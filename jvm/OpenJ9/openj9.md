### 介绍

IBM J9 VM，它是用于 IBM 企业级软件产品的一款高性能的 JVM，帮助 IBM 奠定了商业应用平台中间件的霸主地位。2017 年 9 月，IBM 将 J9 捐献给 Eclipse 基金会，并更名 Eclipse OpenJ9，开启开源之旅。

OpenJ9 提供了 Shared Class Cache (SCC 共享类缓存) 和 Ahead-of-Time (AOT 提前编译) 技术，显著减少了 Java 应用启动时间。



### HotSpot 相关

为了提升执行效率，JVM 引入了 JIT compiler（Just in Time Compiler，即时编译器），其中 Sun/Oracle 公司的 HotSpot 是最著名 JIT 编译器实现。

HotSpot 提供了自适应优化器，可以动态分析、发现代码执行过程中的关键路径，并进行编译优化。HotSpot 的出现极大提升了Java 应用的执行效率，在 Java 1.4 以后成为了缺省的 VM 实现。但是 HotSpot VM 在启动时才对字节码进行编译，一方面导致启动时执行效率不高，一方面编译和优化需要很多的 CPU 资源，拖慢了启动速度。



### GraalVM 相关

graalVM 特点：可以将 Java 应用编译成为本地执行代码全速运行，在编译阶段就将原生代码编译成本地机器码，可大大提高程序的启动速度。



#### J9 scc

SCC 是一个内存映射文件，包含了J9 VM 对字节码的执行分析信息和已经编译生成的本地代码。开启 AOT 编译后，会将 JVM 编译结果保存在 SCC 中，在后续 JVM 启动中可以直接重用。与启动时进行的 JIT 编译相比，从 SCC 加载预编译的实现要快得多，而且消耗的资源要更少。启动时间可以得到明显改善。



### 特性

1、启动时间减少

2、内存占用优化：与 HotSpot VM 相比，OpenJ9 的场景下应用内存占用从平均 600MB 下降到 120MB。

3、与 GraalVM 相比，启动时间会长一些，但是由于在后续运行中会继续利用JIT进行代码编译优化，所以运行效率会更高一些。

通常而言，HotSpot JIT 比 AOT 可以进行更加全面和深入的执行路径优化，从而有更高的运行效率。为了解决这个矛盾，OpenJ9 的 AOT SCC 只在启动阶段生效，在后续运行中会继续利用JIT进行分支预测、代码内联等深度编译优化。


